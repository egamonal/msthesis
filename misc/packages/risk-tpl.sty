% ==============================================================================
% Template for risks (Volere)
% for each risk: title, description, mitigation plan, action plan
% ==============================================================================
\newcounter{riskc}
\setcounter{riskc}{0}

\newenvironment{risk}[4]
{
    \medskip
    \refstepcounter{riskc}

    %\noindent \textbf{\arabic{riskc} #1}
    %\par \noindent #2
    %\par \noindent \textbf{Mitigation Plan} 
    %\par \noindent \textbf{Action Plan} 
    
    \begin{table}[ht]
    \begin{tabularx}{\linewidth}{| l | p{11.5cm} |}%{| X | X |}
    \multicolumn{2}{X}{\textbf{\arabic{riskc} #1}} \\ \hline
    \multicolumn{2}{|p{14.5cm}|}{#2}\\ \hline 
    Mitigation Plan & #3 \\ \hline
    Action Plan & #4 \\
    \hline
    \end{tabularx}
    \centering
    \caption{#1}

    \end{table}
}
{}


% ==============================================================================
% Template for system operation contracts
% ==============================================================================
\newcounter{sopcc} % sys operation contract counter
\setcounter{sopcc}{0}

\newenvironment{sopcontract}[4]
{
    \medskip
    \refstepcounter{sopcc}
    
    \par \noindent \textbf{Contract \arabic{sopcc} #1} 
    \par \noindent #2
    \par \noindent \textbf{Preconditions} #3 
    \par \noindent \textbf{Postconditions} #4
    
}
{}


% ==============================================================================
% Template for use cases
% ==============================================================================
\newcounter{succ}
\setcounter{succ}{0}

\newenvironment{suc}[7]
{
    \medskip
    \refstepcounter{succ}

    %\noindent \textbf{\arabic{riskc} #1}
    %\par \noindent #2
    %\par \noindent \textbf{Mitigation Plan} 
    %\par \noindent \textbf{Action Plan} 
    
    \begin{table}[ht]
    \begin{tabularx}{\linewidth}{| l | p{10cm} |}%{| X | X |}
    \multicolumn{2}{X}{\textbf{\arabic{succ} #1}} \\ \hline
    \multicolumn{2}{|p{12.5cm}|}{#2}\\ \hline 
    Actors & #3 \\ \hline
    Preconditions & #4 \\ \hline
    Postconditions & #5 \\ \hline
    Main Success Scenario & #6\\ \hline
    Extensions & #7\\
    \hline
    \end{tabularx}
    \centering
    \caption{#1}

    \end{table}
}
{}


% software inventory analysis template

\newcounter{swc}
\setcounter{swc}{0}

\define@key{inventory}{name}[none]{ \def \inventory@name{#1} }
\define@key{inventory}{year}[none]{ \def \inventory@year{#1} }
\define@key{inventory}{nchanges}[none]{ \def \inventory@nchanges{#1} }
\define@key{inventory}{lastchange}[none]{ \def \inventory@lastchange{#1} }
\define@key{inventory}{sysresides}[none]{ \def \inventory@sysresides{#1} }
\define@key{inventory}{appinterfaces}[none]{ \def \inventory@appinterfaces{#1} }
\define@key{inventory}{dbs}[none]{ \def \inventory@dbs{#1} }
\define@key{inventory}{errors}[none]{ \def \inventory@errors{#1} }
\define@key{inventory}{nusers}[none]{ \def \inventory@nusers{#1} }
\define@key{inventory}{ninstallations}[none]{ \def \inventory@ninstallations{#1} }
\define@key{inventory}{complexityArch}[none]{ \def \inventory@complexityArch{#1} }
\define@key{inventory}{complexityCode}[none]{ \def \inventory@complexityCode{#1} }
\define@key{inventory}{complexityDocs}[none]{ \def \inventory@complexityDocs{#1} }
\define@key{inventory}{qualityDocs}[none]{ \def \inventory@qualityDocs{#1} }
\define@key{inventory}{overallMainten}[none]{ \def \inventory@overallMainten{#1} }
\define@key{inventory}{projLongevity}[none]{ \def \inventory@projLongevity{#1} }
\define@key{inventory}{projNchanges36}[none]{ \def \inventory@projNchanges36{#1} }
\define@key{inventory}{maintenCost}[none]{ \def \inventory@maintenCost{#1} }
\define@key{inventory}{operCost}[none]{ \def \inventory@operCost{#1} }
\define@key{inventory}{bizVal}[none]{ \def \inventory@bizVal{#1} }
\define@key{inventory}{bizCrit}[none]{ \def \inventory@bizCrit{#1} }


\newenvironment{inventory}[1]{%
  \setkeys{inventory}{#1} 
% template here
    \medskip
    \refstepcounter{swc}
    
    \begin{table}[ht]
    \begin{tabularx}{\linewidth}{| l | X |}%{| X | X |}
    \multicolumn{2}{l}{\textbf{\arabic{swc} \inventory@name }} \\ \hline
    Year & \inventory@year \\ \hline
    Substantive changes & \inventory@nchanges \\ \hline
    Last substantive change & \inventory@lastchange \\ \hline
    System(s) where it resides & \inventory@sysresides \\ \hline
    Applications to which it interfaces & \inventory@appinterfaces \\ \hline
    \ac{DB} it accesses & \inventory@dbs \\ \hline
    Errors reported (18 months) & \inventory@errors \\ \hline
    Number of users & \inventory@nusers \\ \hline
    Number of machines where it is installed & \inventory@ninstallations \\ \hline
    Complexity & \inventory@complexityArch \inventory@complexityCode \inventory@complexityDocs \\ \hline
    Quality of documentation & \inventory@qualityDocs \\ \hline
    Overall maintainability (scale value) & \inventory@overallMainten \\ \hline
    Projected longevity (in years) & \inventory@projLongevity \\ \hline
    Projected number of changes (36 months) & \inventory@projNchanges36 \\ \hline
    Annual cost of maintenance & \inventory@maintenCost \\ \hline
    Annual cost of operation & \inventory@operCost \\ \hline    
    Annual business value & \inventory@bizVal \\ \hline
    Business criticality & \inventory@bizCrit \\
    \hline
    \end{tabularx}
    \centering
    \caption{asdv}

    \end{table}
  }
{}

\newcommand{\company}{PAL Robotics\xspace}
\newcommand{\reem}[1]{Reem-{#1}\xspace}

\newcommand{\flangofe}{Flango Front-End\xspace}
\newcommand{\flangobe}{Flango Back-End\xspace}
\newcommand{\cm}{Content Manager\xspace}
\newcommand{\se}{Screens Editor\xspace}
\newcommand{\flash}{Adobe Flash\copyright \xspace}
    

